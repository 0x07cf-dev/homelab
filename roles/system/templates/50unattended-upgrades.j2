{{ ansible_managed | comment(decoration="// ") }}

Unattended-Upgrade::Allowed-Origins {
{% for origin in system_unattended_upgrades_origins %}
  "{{ origin }}";
{% endfor %}
{% for origin in system_unattended_upgrades_additional_origins %}
  "{{ origin }}";
{% endfor %}
};

// Automatic reboot.
Unattended-Upgrade::Automatic-Reboot "{{ system_unattended_upgrades_reboot }}";
Unattended-Upgrade::Automatic-Reboot-Time "{{ system_unattended_upgrades_reboot_time }}";

Unattended-Upgrade::Package-Blacklist {
{% for package in system_unattended_upgrades_package_blacklist %}
  "{{ package }}";
{% endfor %}
}

// Send emails on upgrades.
{% if system_unattended_upgrades_mail_to %}
Unattended-Upgrade::Mail "{{ system_unattended_upgrades_mail_to }}";
{%   if system_unattended_upgrades_mail_only_on_error %}
Unattended-Upgrade::MailOnlyOnError "true";
{%   endif %}
{% endif %}
